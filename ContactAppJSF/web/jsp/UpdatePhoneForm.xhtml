<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:f="http://java.sun.com/jsf/core"
xmlns:c="http://java.sun.com/jsp/jstl/core"
xmlns:ui="http://java.sun.com/jsf/facelets">

    <h:head>
        <title>Update Address Page</title>
        <style type="text/css" media="all">@import "#{request.contextPath}/html/layout1.css";</style>
    </h:head>

    <h:body>
        <f:view>

        <div id="Logo"></div>

        <div id="Header">
            <a href="#{request.contextPath}/jsp/UserMainPage.faces" title="Contact Web App">Contact Web App</a>
        </div>

         <ui:insert name="headerfff" >
            <ui:include src="/WEB-INF/Header.xhtml" />
        </ui:insert>

        <div id="Content">

            <h1>Contact Info Page</h1>

            <c:if test="${userBean.loggedIn != 1}">
                <p>You are not logged in. Please go to the <a href="#{request.contextPath}/jsp/UserLoginPage.faces">login page</a> to login or 
                to the <a href="#{request.contextPath}/jsp/UserSignupPage.faces">sign up page</a> to sign up.</p>
            </c:if> <!-- if user is not logged in -->

            <c:if test="${userBean.loggedIn == 1}">

                <p>Info for contact <h:outputText id="firstName1" value="#{contactBean.firstName}" /> 

                    <h:outputText id="lastName1" value="#{contactBean.lastName}" />
                    who is contact 
                    <h:outputText id="contactCounterJJJ" value="#{contactBean.contactCounter}" />
                </p>
                <br />
                <hr />
                <p>Emails for this contact <h:outputText id="firstName2" value="#{contactBean.emailAddress}" /></p>
                
                <!--  value="#{contactBean.contactEmailList}" var="sr123" -->
                
                <p>Current values:
                    <ul>
                    <li>Address: 
                        <f:facet name="header"> <h:outputText value="Address" /> 
                        </f:facet>
                        <h:outputText value="#{contactBean.emailAddress}" />
                    </li>    

                    <li>Primary: 
                        <f:facet name="header"> <h:outputText value="Primary" /> </f:facet>
                        <h:outputText value="#{contactBean.isPrimary}" />
                    </li>   
                    
                    <li>Email counter: 
                        <f:facet name="header"> <h:outputText value="Email counter" /> </f:facet>
                        <h:outputText value="#{contactBean.emailCounter}" />
                    </li>   
                    
                    <li>Contact Counter: 
                        <f:facet name="header"> <h:outputText value="Contact Counter" /> </f:facet>
                        <h:outputText value="#{contactBean.contactCounter}" />
                    </li>
                        </ul>
               
                </p>
                <hr />


                <br /><br />           
                <p>Enter a new phone number</p>

 
                
                 <h:form>

                    <p>Enter phone number: <h:inputText value="#{contactPhoneBean.phoneNumber}" id="streetAddress1" required="true"/>
                    </p>

                    

                    <p>
                        <h:outputLabel rendered="true" for="isPrimary">
                            <h:outputText value="Is this the primary contact?" />
                        </h:outputLabel>
                        <h:selectOneMenu id="isPrimary" value="#{contactPhoneBean.isPrimary}">
                            <f:selectItem itemLabel="y"   itemValue="y" />
                            <f:selectItem itemLabel="n"   itemValue="n" />
                        </h:selectOneMenu>
                    </p>
                     
                     <p>
                        <h:outputLabel rendered="true" for="isPrimary">
                            <h:outputText value="Keep this phone number in the system?" />
                        </h:outputLabel>
                        <h:selectOneMenu id="isActive" value="#{contactPhoneBean.isActive}">
                            <f:selectItem itemLabel="y"   itemValue="y" />
                            <f:selectItem itemLabel="n"   itemValue="n" />
                        </h:selectOneMenu>
                    </p>
                    <p><h:commandButton value="Submit" rendered="true" action="#{contactPhoneBean.updateContactPhone(contactBean.contactCounter,contactBean.emailCounter)}" /></p>

                </h:form>

            </c:if> <!-- if user is logged in  -->

            <!-- ui:include src="/WEB-INF/html/footer.html" / -->
            <hr />
            <p>Thank you for using the Contact Web App.</p>

        </div> <!-- end div Content -->

        <br /><br /><br /><br /><br />
        <hr />
        <br />
        <p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>
        <br /><br /><br />

        </f:view>

    </h:body>

</html>

